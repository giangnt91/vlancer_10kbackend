<!-- BEGIN BASE-->
<div id="base">
    <!-- BEGIN CONTENT-->
    <div id="content">
        <section>
            <div class="section-body">
                <div class="row">

                    <!-- BEGIN ALERT - REVENUE -->
                    <div class="col-md-3 col-sm-6">
                        <div class="card">
                            <div class="card-body no-padding">
                                <div class="alert alert-callout alert-info no-margin ink-reaction">
                                    <strong class="text-success text-xl">
                                        <i class="md md-account-circle "></i>
                                        <span>{{user_bk.length}}</span>
                                    </strong>
                                    <br/>
                                    <span class="opacity-50">Thành Viên Bạch Kim</span>
                                    <div class="stick-bottom-left-right">
                                        <div class="height-2 sparkline-revenue" data-line-color="#bdc1c1"></div>
                                    </div>
                                </div>
                            </div>
                            <!--end .card-body -->
                        </div>
                        <!--end .card -->
                    </div>
                    <!--end .col -->
                    <!-- END ALERT - REVENUE -->

                    <!-- BEGIN ALERT - VISITS -->
                    <div class="col-md-3 col-sm-6">
                        <div class="card">
                            <div class="card-body no-padding">
                                <div class="alert alert-callout alert-warning no-margin ink-reaction">
                                    <strong class="text-warning text-xl">
                                        <i class="md md-account-circle"></i>
                                        {{user_gold.length}}
                                    </strong>
                                    <br/>
                                    <span class="opacity-50">Thành Viên Vàng</span>
                                    <div class="stick-bottom-right">
                                        <div class="height-1 sparkline-visits" data-bar-color="#e5e6e6"></div>
                                    </div>
                                </div>
                            </div>
                            <!--end .card-body -->
                        </div>
                        <!--end .card -->
                    </div>
                    <!--end .col -->
                    <!-- END ALERT - VISITS -->

                    <!-- BEGIN ALERT - BOUNCE RATES -->
                    <div class="col-md-3 col-sm-6">
                        <div class="card">
                            <div class="card-body no-padding">
                                <div class="alert alert-callout alert-info no-margin ink-reaction">
                                    <strong class="text-info text-xl">
                                        <i class="md md-account-circle"></i>
                                        {{user_silver.length}}
                                    </strong>
                                    <br/>
                                    <span class="opacity-50">Thành Viên Bạc</span>
                                </div>
                            </div>
                            <!--end .card-body -->
                        </div>
                        <!--end .card -->
                    </div>
                    <!--end .col -->
                    <!-- END ALERT - BOUNCE RATES -->

                    <!-- BEGIN ALERT - TIME ON SITE -->
                    <div class="col-md-3 col-sm-6">
                        <div class="card">
                            <div class="card-body no-padding">
                                <div class="alert alert-callout alert-success no-margin ink-reaction">
                                    <strong class="text-danger text-xl">
                                        <i class="md md-account-circle"></i>
                                        {{user_normal.length}}
                                    </strong>
                                    <br/>
                                    <span class="opacity-50">Thành Viên Thường</span>
                                </div>
                            </div>
                            <!--end .card-body -->
                        </div>
                        <!--end .card -->
                    </div>
                    <!--end .col -->
                    <!-- END ALERT - TIME ON SITE -->

                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <div class="table-responsive alert alert-callout no-margin tbaction" style="overflow-x:unset;">
                            <h2 ng-show="all_user.length === 0" class="text-center">Không có dữ liệu</h2>
                            <table datatable="" ng-if="all_user" dt-options="dtOptions" class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th>ID Thành Viên</th>
                                        <th>Họ Tên</th>
                                        <th>Shop</th>
                                        <th hidden>User Email</th>
                                        <th>Hạng</th>
                                        <th>Điểm Xấu</th>
                                        <th>Tổng Điểm</th>
                                        <th>Phân Quyền</th>
                                        <th>Trạng Thái</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="content in all_user | orderBy:'-_id'">
                                        <td ng-click="copyToClipboard(content.user_id)" id="toast-custom">{{content.user_id}}</td>
                                        <td>{{content.info[0].fulname}}</td>
                                        <td>{{content.role[0].shop_name}}</td>
                                        <td hidden>{{content.info[0].email}}</td>
                                        <td>{{content.user_class[0].name}}</td>
                                        <td>{{content.point_bad}}</td>
                                        <td>{{content.point_plus}}</td>
                                        <td>{{content.role[0].name}}</td>
                                        <td ng-class="{'text-success': content._status[0].id === 0, 'text-danger': content._status[0].id === 1}">{{content._status[0].name}}</td>
                                        <td style="width: 200px">
                                            <button ng-if="content._status[0].id === 0" type="button" class="btn btn-warning btn-new ink-reaction" data-toggle="modal"
                                                data-target="#block" ng-click="get_id_user(content._id)">
                                                <i class="md md-block"></i>
                                            </button>
                                            <button ng-if="content._status[0].id === 1" type="button" class="btn btn-success btn-new ink-reaction" data-toggle="modal"
                                                data-target="#active" ng-click="get_id_user(content._id)">
                                                <i class="md md-done"></i>
                                            </button>
                                            <button type="button" class="btn btn-danger btn-new ink-reaction" data-toggle="modal" data-target="#delete" ng-click="get_id_user(content._id)">
                                                <i class="md md-delete"></i>
                                            </button>
                                            <button type="button" class="btn btn-success btn-new ink-reaction" data-toggle="modal" data-target="#detail" ng-click="get_id_user(content._id)">
                                                <i class="md md-find-in-page"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!--end .table-responsive -->
                        <!-- END DATATABLE 1 -->
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- Modal delete -->
<div class="modal fade" id="delete" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Xóa Thành Viên</h4>
            </div>

            <div class="modal-body">
                <p ng-show="!del">Bạn có chắc chắn muốn xóa thành viên với id
                    <strong class="text-primary">{{detail.user_id}}</strong> ?</p>
                <p ng-show="del">Thành viên với id
                    <strong class="text-primary">{{detail.user_id}}</strong> đã được xóa thành công</p>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="set_is_del()">Đóng</button>
                <a ng-show="!del" class="btn btn-danger btn-ok" ng-click="del_user(detail._id)">Xóa</a>
            </div>
        </div>
    </div>
</div>

<!-- Modal block -->
<div class="modal fade" id="block" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Khóa Thành Viên</h4>
            </div>

            <div class="modal-body">
                <p ng-show="!block">Bạn có chắc chắn muốn Khóa thành viên với id
                    <strong class="text-primary">{{detail.user_id}}</strong> ?</p>
                <p ng-show="block">Thành Viên với id
                    <strong class="text-primary">{{detail.user_id}}</strong> đã được Khóa thành công</p>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="set_is_block()">Đóng</button>
                <a ng-show="!block" class="btn btn-danger btn-ok" ng-click="block_user(detail._id)">Khóa</a>
            </div>
        </div>
    </div>
</div>

<!-- Modal active -->
<div class="modal fade" id="active" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Kích Hoạt Thành Viên</h4>
            </div>

            <div class="modal-body">
                <p ng-show="!active">Bạn có chắc chắn muốn kích hoạt thành viên với id
                    <strong class="text-primary">{{detail.user_id}}</strong> ?</p>
                <p ng-show="active">Thành viên với id
                    <strong class="text-primary">{{detail.user_id}}</strong> đã được kích hoạt thành công</p>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="set_is_active()">Đóng</button>
                <a ng-show="!active" class="btn btn-success btn-ok" ng-click="active_user(detail._id)">Kích Hoạt</a>
            </div>
        </div>
    </div>
</div>

<!-- Detail User -->
<div id="detail" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header text-center">
                <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
                <!-- <h3 class="modal-title">Thông Tin User</h3> -->
                <img src="{{detail.user_img}}" alt="" style="height: 120px; border-radius: 7px" />
            </div>
            <div class="modal-body">
                <form class="form">
                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopId" ng-model="detail.user_id" disabled>
                                <label for="shopId">ID Thành Viên</label>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopId" ng-model="detail.info[0].fulname" disabled>
                                <label for="shopId">Họ Tên</label>
                            </div>
                        </div>

                    </div>

                    <div class="row">

                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopboss" ng-model="detail.user_class[0].name" disabled>
                                <label for="shopboss">Hạng</label>
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopId" ng-model="detail.role[0].name" disabled>
                                <label for="shopId">Phân Quyền</label>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopmanager" ng-model="detail.point_plus" disabled>
                                <label for="shopmanager">Tổng Điểm</label>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopname" ng-model="detail.point_bad" disabled>
                                <label for="shopname">Điểm Xấu</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopId" ng-model="detail.total_list_coupon.length" disabled>
                                <label for="shopId">Số Coupon Đang Giữ</label>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="shopboss" ng-model="detail.use_coupon.length" disabled>
                                <label for="shopboss">Số Coupon Đã Dùng</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail._status[0].name" disabled>
                                <label for="kind">Trạng Thái Hoạt Động</label>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail.total_slot" disabled>
                                <label for="kind">Tổng Số Slot</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail.empty_slot" disabled>
                                <label for="kind">Số Slot Trống</label>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail.info[0].email" disabled>
                                <label for="kind">Email</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail.info[0].bith_day" disabled>
                                <label for="kind">Ngày Sinh</label>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail.info[0].mobile" disabled>
                                <label for="kind">Số Điện Thoại</label>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail.info[0].sex" disabled>
                                <label for="kind">Giới Tính</label>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <input type="text" class="form-control" id="kind" ng-model="detail.info[0].work" disabled>
                                <label for="kind">Công Việc</label>
                            </div>
                        </div>

                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Đóng</button>
            </div>
        </div>

    </div>
</div>